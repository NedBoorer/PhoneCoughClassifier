# Phone Cough Classifier - Environment Configuration
# Copy this file to .env and fill in your values

# ===================
# Twilio Configuration
# ===================
TWILIO_ACCOUNT_SID=your_account_sid_here
TWILIO_AUTH_TOKEN=your_auth_token_here

# Two separate phone numbers for different services:
TWILIO_PHONE_NUMBER=+1234567890          # General health screening
TWILIO_MARKET_PHONE_NUMBER=+1234567891   # Mandi Bol market price service

# ===================
# OpenAI Configuration
# ===================
OPENAI_API_KEY=your_openai_api_key_here

# ===================
# Application Settings
# ===================
# Public URL for Twilio webhooks (use ngrok for local dev)
BASE_URL=https://your-domain.ngrok.io

# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# ===================
# Database
# ===================
DATABASE_URL=sqlite+aiosqlite:///./data/cough_classifier.db

# ===================
# Audio Settings
# ===================
# Maximum recording duration in seconds
MAX_RECORDING_DURATION=10

# Sample rate for audio processing (16kHz recommended for HeAR)
AUDIO_SAMPLE_RATE=16000

# ===================
# ML Model Settings
# ===================
# Path to trained model
MODEL_PATH=./models/cough_classifier.joblib

# Use Google HeAR embeddings (requires more memory)
USE_HEAR_EMBEDDINGS=true

# ===================
# India Accessibility
# ===================
# Default language for IVR
DEFAULT_LANGUAGE=en

# Enable multi-language support
ENABLE_MULTILINGUAL=true

# ===================
# WhatsApp Configuration
# ===================
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886

# Enable WhatsApp health card reports
ENABLE_WHATSAPP_REPORTS=true

# ===================
# Health Screening Models
# ===================
PARKINSONS_MODEL_PATH=./models/parkinsons_classifier.joblib
DEPRESSION_MODEL_PATH=./models/depression_classifier.joblib

# Enable/disable specific screening models
ENABLE_RESPIRATORY_SCREENING=true
ENABLE_PARKINSONS_SCREENING=true
ENABLE_DEPRESSION_SCREENING=true

# Device for model inference: cpu or cuda
SCREENING_MODEL_DEVICE=cpu

# ML confidence thresholds
CONFIDENCE_THRESHOLD=0.7
HIGH_RISK_THRESHOLD=0.85

# ===================
# Rural India Features
# ===================
# Tele-triage helpline for urgent cases (e.g., eSanjeevani)
DOCTOR_HELPLINE_NUMBER=+910000000000

# Enable missed call callback feature
ENABLE_MISSED_CALL=true
MISSED_CALL_CALLBACK_ENABLED=true

# Enable ASHA worker mode
ENABLE_ASHA_MODE=true

# Enable Kisan Manas depression screening for farmers
ENABLE_KISAN_MANAS=true

# ===================
# Farmer-Specific Settings
# ===================
ENABLE_FARMER_SCREENING=true
ENABLE_FAMILY_SCREENING=true

# Risk thresholds for occupational hazards
PESTICIDE_RISK_THRESHOLD=0.7
DUST_RISK_THRESHOLD=0.65

# ===================
# Logging
# ===================
LOG_LEVEL=INFO
LOG_FILE=./data/app.log

# ===================
# SETUP NOTES
# ===================
# 1. For local development with Twilio webhooks:
#    - Install ngrok: https://ngrok.com/download
#    - Run: ngrok http 8000
#    - Set BASE_URL to your ngrok URL (e.g., https://abc123.ngrok.io)
#
# 2. Configure Twilio webhooks at https://console.twilio.com/
#
#    RECOMMENDED: Use the smart router for both numbers (automatically routes to correct service):
#      - TWILIO_PHONE_NUMBER webhook: {BASE_URL}/india/voice/router
#      - TWILIO_MARKET_PHONE_NUMBER webhook: {BASE_URL}/india/voice/router
#
#    ALTERNATIVE: Configure webhooks separately for each number:
#      - Health number webhook: {BASE_URL}/india/voice/incoming
#      - Market number webhook: {BASE_URL}/india/voice/market/menu
#      - SMS incoming: {BASE_URL}/twilio/sms/incoming
#      - Missed call (for callback feature): {BASE_URL}/india/voice/missed-call
#
# 3. For WhatsApp integration:
#    - Activate Twilio WhatsApp Sandbox: https://console.twilio.com/us1/develop/sms/try-it-out/whatsapp-learn
#    - Send "join [sandbox-keyword]" to your sandbox number
#
# 4. Missing ML models:
#    - The app will fall back to rule-based classification if models are missing
#    - See models/README.md for training instructions (if available)
#    - PANNs respiratory model weights should be in: external_models/respiratory_panns/panns/

